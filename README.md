# Decentralized Digital Resource ID System

A comprehensive system for managing decentralized identifiers (DIDs) for various types of digital resources including text, images, audio, video, AI models, and datasets. Built on open standards and designed to provide secure, verifiable, and interoperable management of digital assets.

## Key Features

- **Resource-specific DIDs**: Generate W3C compliant DIDs tailored to different resource types
- **Hierarchical Metadata**: Integrate multiple standards (DID, C2PA, Model Cards, PROV) for comprehensive resource description
- **Multi-layer Watermarking**: Resource-type specific watermarking techniques including AI model watermarking
- **Relationship Tracking**: PROV-compatible graph model for tracking relationships between resources
- **Distributed Registry**: Blockchain-based registry with off-chain storage for efficient resource management
- **AI Context Integration**: Model Context Protocol (MCP) and model card integration for AI resources
- **Execution Structures**: Support for defining executable combinations of multiple resources

## System Architecture

The system consists of the following core components:

1. **DID Factory**: Generates unique identifiers for digital resources
2. **Hierarchical Metadata Manager**: Handles layered metadata from multiple standards
3. **Watermark Manager**: Embeds and detects watermarks in different resource types
4. **Resource Relationship Manager**: Tracks relationships between digital resources
5. **Distributed Registry**: Manages resource registration on distributed ledgers
6. **AI Model Context Manager**: Handles AI model-specific context information

## Standards Support

This system implements and integrates multiple open standards:

- [W3C Decentralized Identifiers (DIDs)](https://www.w3.org/TR/did-core/)
- [C2PA (Coalition for Content Provenance and Authenticity)](https://c2pa.org/)
- [Model Cards](https://modelcards.withgoogle.com/about)
- [W3C PROV](https://www.w3.org/TR/prov-overview/)
- [MPEG-21 Rights Expression Language](https://mpeg.chiariglione.org/standards/mpeg-21/rights-expression-language)
- [Model Context Protocol (MCP)](https://github.com/anthropics/model-context-protocol)

## Installation

```bash
npm install decentralized-resource-id
```

## Basic Usage

```javascript
const { DecentralizedResourceIDSystem, RESOURCE_TYPES } = require('decentralized-resource-id');

// Create system instance
const system = new DecentralizedResourceIDSystem();

// Initialize system
await system.initialize();

// Register a text resource
const textRegistration = await system.registerResource(
  'This is a sample text.',
  RESOURCE_TYPES.TEXT,
  {
    name: 'Sample Text',
    description: 'A simple text example',
    creator: 'Example User'
  }
);

console.log('Resource registered with DID:', textRegistration.did);
```

For more detailed examples, see the [examples](./examples) directory.

## Key Concepts

### DID Structure

DIDs generated by the system follow this structure:

```
did:asset:resource-type:base64url-encoded-id
```

For example:
```
did:asset:ai-model:X2dhc3NldDphaS1tb2RlbDpYMmRoYzNObGREcGhhUzF0YjJSbGJEcFlNbVJvWXpOellYTnpaWFE2
```

### Hierarchical Metadata

The metadata structure follows a layered approach:

1. **Identification Layer**: DID and basic information
2. **Provenance Layer**: C2PA-based origin and integrity information
3. **Characteristics Layer**: Resource-specific metadata (Model Cards, Data Sheets)
4. **Lineage Layer**: W3C PROV-based genealogy
5. **Rights Layer**: MPEG-21 REL rights management information

### Watermarking Techniques

Different resource types use specialized watermarking approaches:

- **Text**: Unicode space characters, punctuation variations, line break patterns
- **Images**: LSB encoding, DCT/DWT frequency domain methods, feature-based approaches
- **AI Models**: White-box (weight parameters) and black-box (output distribution) techniques
- **Datasets**: Structure-preserving metadata embedding

### Relationship Types

Resource relationships are categorized as:

- **Structural**: contains, isPartOf, hasComponent
- **Derivation**: wasDerivedFrom, wasRevisionOf
- **Generation**: wasGeneratedBy, used, wasAttributedTo
- **Dependency**: dependsOn, requires, uses

## Advanced Features

### AI Model Registration

```javascript
const modelRegistration = await system.registerAIModel(
  modelData,
  modelCard,
  mcpInterfaces
);
```

### Execution Structures

```javascript
const executionStructure = await system.createExecutionStructure(
  [modelDid, datasetDid],
  {
    executionOrder: [datasetDid, modelDid],
    interfaceDefinitions: {...}
  }
);
```

## License

[MIT](LICENSE)

## Contributing

Contributions are welcome! Please feel free to submit a Pull Request.

## Acknowledgments

This project integrates and builds upon various open standards and technologies in the digital identity, provenance tracking, and AI domains.
